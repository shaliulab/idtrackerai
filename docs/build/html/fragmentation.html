<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Fragmentation &mdash; idtrackerai v0.0 Manual</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="top" title="idtrackerai v0.0 Manual" href="index.html" >
    <link rel="up" title="Code documentation" href="modules.html" >
    <link rel="prev" title="DCD: Deep Crossing detector" href="crossing_detector.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="index.html">
      <img style="border: 0;" alt="idtrackerai" src="_static/img/idtracker_logo.gif"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="https://gitlab.com/polavieja_lab/idtrackerai.git">GitLab repo</a></li>
	
        <li class="active"><a href="index.html">idtrackerai v0.0 Manual</a></li>
	
          <li class="active"><a href="modules.html" accesskey="U">Code documentation</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="crossing_detector.html" title="DCD: Deep Crossing detector"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Fragmentation</a><ul>
<li><a class="reference internal" href="#fragment">Fragment</a></li>
<li><a class="reference internal" href="#list-of-fragments">List of fragments</a></li>
<li><a class="reference internal" href="#global-fragment">Global fragment</a></li>
<li><a class="reference internal" href="#list-of-global-fragments">List of global fragments</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="fragmentation">
<h1>Fragmentation<a class="headerlink" href="#fragmentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="fragment">
<h2>Fragment<a class="headerlink" href="#fragment" title="Permalink to this headline">¶</a></h2>
<p>A fragment is a collection of Blob objects (see <code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code>) that refer to the same individual. A Fragment object manages such a collection of Blob objects
to facilitate the fingerprint operations and later on the identification of the animal reprpresented in the fragment.</p>
<span class="target" id="module-fragment"></span><dl class="class">
<dt id="fragment.Fragment">
<em class="property">class </em><code class="descclassname">fragment.</code><code class="descname">Fragment</code><span class="sig-paren">(</span><em>fragment_identifier=None</em>, <em>start_end=None</em>, <em>blob_hierarchy_in_starting_frame=None</em>, <em>images=None</em>, <em>bounding_box_in_frame_coordinates=None</em>, <em>centroids=None</em>, <em>areas=None</em>, <em>pixels=None</em>, <em>is_an_individual=None</em>, <em>is_a_crossing=None</em>, <em>number_of_animals=None</em>, <em>user_generated_identity=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects the Blob objects (<a class="reference internal" href="preprocessing.html#blob.Blob" title="blob.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>) associated to the same individual or crossing.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>fragment_identifier</strong></td>
<td>(int) Unique identifier of the fragment assigned with <a class="reference internal" href="preprocessing.html#list_of_blobs.ListOfBlobs.compute_fragment_identifier_and_blob_index" title="list_of_blobs.ListOfBlobs.compute_fragment_identifier_and_blob_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">compute_fragment_identifier_and_blob_index()</span></code></a> and <a class="reference internal" href="preprocessing.html#list_of_blobs.ListOfBlobs.compute_crossing_fragment_identifier" title="list_of_blobs.ListOfBlobs.compute_crossing_fragment_identifier"><code class="xref py py-func docutils literal notranslate"><span class="pre">compute_crossing_fragment_identifier()</span></code></a></td>
</tr>
<tr class="row-even"><td><strong>start_end</strong></td>
<td>(tuple) (starting_frame,  ending_frame) of the fragment</td>
</tr>
<tr class="row-odd"><td><strong>blob_hierarchy_in_starting_frame</strong></td>
<td>(int) Hierarchy of the blob in the starting frame of the fragment (the hierarchy if compute bottom-top, left-right).</td>
</tr>
<tr class="row-even"><td><strong>images</strong></td>
<td>(list) List of images associated to every blob represented in the fragment and ordered according to the frame they have been segmented from</td>
</tr>
<tr class="row-odd"><td><strong>bounding_box_in_frame_coordinates</strong></td>
<td>(tuple) List of bounding boxes (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">bounding_box_in_frame_coordinates</span></code>)</td>
</tr>
<tr class="row-even"><td><strong>centroids</strong></td>
<td>(list) List of centroids (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">centroid</span></code>)</td>
</tr>
<tr class="row-odd"><td><strong>areas</strong></td>
<td>(list) List of areas (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">area</span></code>)</td>
</tr>
<tr class="row-even"><td><strong>pixels</strong></td>
<td>(list) List of pixels (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">pixels</span></code>)</td>
</tr>
<tr class="row-odd"><td><strong>is_an_individual</strong></td>
<td>(bool) True if the image has been classified as representing an individual by <a class="reference internal" href="crossing_detector.html#crossing_detector.detect_crossings" title="crossing_detector.detect_crossings"><code class="xref py py-func docutils literal notranslate"><span class="pre">detect_crossings()</span></code></a></td>
</tr>
<tr class="row-even"><td><strong>is_a_crossing</strong></td>
<td>(bool) True if the image has been classified as representing a crossing by <a class="reference internal" href="crossing_detector.html#crossing_detector.detect_crossings" title="crossing_detector.detect_crossings"><code class="xref py py-func docutils literal notranslate"><span class="pre">detect_crossings()</span></code></a></td>
</tr>
<tr class="row-odd"><td><strong>number_of_animals</strong></td>
<td>(int) Number of animal to be tracked</td>
</tr>
<tr class="row-even"><td><strong>user_generated_identity</strong></td>
<td>(int) Identity generated by the user during validation (if it exists, else None)</td>
</tr>
<tr class="row-odd"><td><strong>is_in_a_global_fragment</strong></td>
<td>(bool) True if the fragment is contained in a global fragment (see <a class="reference internal" href="#globalfragment.GlobalFragment" title="globalfragment.GlobalFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code></a>)</td>
</tr>
<tr class="row-even"><td><strong>used_for_training</strong></td>
<td>(bool) True if the fragment has been used to train the idCNN in the finerprinting protocol used to track the video</td>
</tr>
<tr class="row-odd"><td><strong>accumulated_globally</strong></td>
<td>(bool) True if the fragment’s images have been accumulated with global strategy as references during the fingerprinting protocol used to track the video</td>
</tr>
<tr class="row-even"><td><strong>accumulated_partially</strong></td>
<td>(bool) True if the fragment’s images have been accumulated with partial strategy as references during the fingerprinting protocol used to track the video</td>
</tr>
<tr class="row-odd"><td><strong>accumulation_step</strong></td>
<td>(int) Accumulation step in which the fragment’s images have been accumulated</td>
</tr>
<tr class="row-even"><td><strong>accumulable</strong></td>
<td>(bool) True if the fragment is eligible for accumulation i.e. it is contained in a global fragment object (see <a class="reference internal" href="#globalfragment.GlobalFragment" title="globalfragment.GlobalFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code></a>)</td>
</tr>
<tr class="row-odd"><td><strong>used_for_pretraining</strong></td>
<td>(bool) True if the fragment has been used to pretrain the idCNN in the third protocol (see <a class="reference internal" href="fingerprint_protocol_cascade.html#pre_trainer.pre_train" title="pre_trainer.pre_train"><code class="xref py py-func docutils literal notranslate"><span class="pre">pre_train()</span></code></a>)</td>
</tr>
<tr class="row-even"><td><strong>acceptable_for_training</strong></td>
<td>(bool) True if the fragment satisfies the conditions in <a class="reference internal" href="fingerprint_protocol_cascade.html#accumulation_manager.AccumulationManager.check_if_is_acceptable_for_training" title="accumulation_manager.AccumulationManager.check_if_is_acceptable_for_training"><code class="xref py py-meth docutils literal notranslate"><span class="pre">check_if_is_acceptable_for_training()</span></code></a></td>
</tr>
<tr class="row-odd"><td><strong>frequencies</strong></td>
<td>(ndarray) array with shape [1, number_of_animals]. The ith component is the number of times the fragment has been assigned by the idCNN (argmax of the softmax predictions) to the identity i</td>
</tr>
<tr class="row-even"><td><strong>P1_vector</strong></td>
<td>(ndarray) array with shape [1, number_of_animals] computed from frequencies by <a class="reference internal" href="#fragment.Fragment.compute_identification_statistics" title="fragment.Fragment.compute_identification_statistics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_identification_statistics()</span></code></a></td>
</tr>
<tr class="row-odd"><td><strong>P2_vector</strong></td>
<td>(ndarray) array with shape [1, number_of_animals] computed from the P1_vector and considering all the identified fragment overlapping (in frames) with self by <a class="reference internal" href="#fragment.Fragment.compute_identification_statistics" title="fragment.Fragment.compute_identification_statistics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_identification_statistics()</span></code></a></td>
</tr>
<tr class="row-even"><td><strong>certainty</strong></td>
<td>(float) certainty of the identification of the fragment computed according to meth:<cite>compute_certainty_of_individual_fragment</cite> (depends only on the predictions of the idCNN for the fragment’s images)</td>
</tr>
<tr class="row-odd"><td><strong>certainty_P2</strong></td>
<td>(float) certainty of the identification of the fragment computed according to meth:<cite>compute_P2_vector</cite></td>
</tr>
<tr class="row-even"><td><strong>is_certain</strong></td>
<td>(bool) True if <code class="xref py py-attr docutils literal notranslate"><span class="pre">certainty</span></code> is greater than <code class="xref py py-const docutils literal notranslate"><span class="pre">CERTAINTY_THRESHOLD</span></code></td>
</tr>
<tr class="row-odd"><td><strong>temporary_id</strong></td>
<td>(int) Identity assigned to the fragment during the fingerprint protocols cascade</td>
</tr>
<tr class="row-even"><td><strong>identity</strong></td>
<td>(int) Identity assigned to the fragment</td>
</tr>
<tr class="row-odd"><td><strong>identity_is_fixed</strong></td>
<td>(bool) True if the <code class="xref py py-attr docutils literal notranslate"><span class="pre">certainty_P2</span></code> is greater than <code class="xref py py-const docutils literal notranslate"><span class="pre">FIXED_IDENTITY_THRESHOLD</span></code></td>
</tr>
<tr class="row-even"><td><strong>identity_corrected_closing_gaps</strong></td>
<td>(int) Identity assigned to the fragment while solving the crossing if it exists else None</td>
</tr>
<tr class="row-odd"><td><strong>user_generated_identity</strong></td>
<td>(int) Identity assigned to the fragment by the user during validation if it exists else None</td>
</tr>
<tr class="row-even"><td><strong>final_identity</strong></td>
<td>(int) Final identity of the fragment. It corresponds to <code class="xref py py-attr docutils literal notranslate"><span class="pre">user_generated_identity</span></code> if it exist otherwise to the identity assigned by the algorithm</td>
</tr>
<tr class="row-odd"><td><strong>assigned_identity</strong></td>
<td>(int) Identity assigned to the fragment by the algorithm</td>
</tr>
<tr class="row-even"><td><strong>ambiguous_identities</strong></td>
<td>(list) List of possible identities in case the assignment is ambiguous (two or more identity can be assigned to the fragment with the same certainty)</td>
</tr>
<tr class="row-odd"><td><strong>potentially_randomly_assigned</strong></td>
<td>(bool) True if <code class="xref py py-attr docutils literal notranslate"><span class="pre">certainty</span></code> is below random wrt the number of images in the fragment</td>
</tr>
<tr class="row-even"><td><strong>non_consistent</strong></td>
<td>(bool) True if exist a fragment that overlaps in frame with self whose identity is the same as self</td>
</tr>
<tr class="row-odd"><td><strong>number_of_images</strong></td>
<td>(int) number of images composing the fragment</td>
</tr>
<tr class="row-even"><td><strong>has_enough_accumulated_coexisting_fragments</strong></td>
<td>(bool) the partial accumulation strategy assumes that the condition of <code class="xref py py-attr docutils literal notranslate"><span class="pre">has_enough_accumulated_coexisting_fragments</span></code> holds</td>
</tr>
<tr class="row-odd"><td><strong>distance_travelled</strong></td>
<td>(float) distance travelled by the individual in the fragment</td>
</tr>
<tr class="row-even"><td><strong>coexisting_individual_fragments</strong></td>
<td>(list) List of fragment objects that coexist (in frames) with self and that represent an individual</td>
</tr>
<tr class="row-odd"><td><strong>number_of_coexisting_individual_fragments</strong></td>
<td>(int) Number of individual fragments coexisting with self</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.are_overlapping" title="fragment.Fragment.are_overlapping"><code class="xref py py-obj docutils literal notranslate"><span class="pre">are_overlapping</span></code></a>(other)</td>
<td>Short summary.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.assign_identity" title="fragment.Fragment.assign_identity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">assign_identity</span></code></a>()</td>
<td>Assigns the identity to self by considering the fragments coexisting with it.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.check_consistency_with_coexistent_individual_fragments" title="fragment.Fragment.check_consistency_with_coexistent_individual_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_consistency_with_coexistent_individual_fragments</span></code></a>(…)</td>
<td>Check that the temporary identity assigned to the fragment is consistent with respect to the identities already assigned to the fragments coexisting (in frame) with it</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.compute_P1_from_frequencies" title="fragment.Fragment.compute_P1_from_frequencies"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_P1_from_frequencies</span></code></a>()</td>
<td>Given the frequencies of a individual fragment computer the P1 vector.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.compute_P2_vector" title="fragment.Fragment.compute_P2_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_P2_vector</span></code></a>()</td>
<td>Computes the P2_vector related to self.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.compute_border_velocity" title="fragment.Fragment.compute_border_velocity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_border_velocity</span></code></a>(other)</td>
<td>Velocity necessary to cover the space between two fragments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.compute_certainty_of_individual_fragment" title="fragment.Fragment.compute_certainty_of_individual_fragment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_certainty_of_individual_fragment</span></code></a>(…)</td>
<td>Computes the certainty given the P1_vector of the fragment by using the output of <a class="reference internal" href="#fragment.Fragment.compute_median_softmax" title="fragment.Fragment.compute_median_softmax"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_median_softmax()</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.compute_identification_frequencies_individual_fragment" title="fragment.Fragment.compute_identification_frequencies_individual_fragment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_identification_frequencies_individual_fragment</span></code></a>(…)</td>
<td>Counts the argmax of predictions per row</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.compute_identification_statistics" title="fragment.Fragment.compute_identification_statistics"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_identification_statistics</span></code></a>(…[,&nbsp;…])</td>
<td>Computes the statistics necessary to the identification of the fragment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.compute_median_softmax" title="fragment.Fragment.compute_median_softmax"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_median_softmax</span></code></a>(number_of_animals)</td>
<td>Given the softmax of the predictions outputted by the network, it computes their median according to the argmax of the softmaxed predictions per image</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.frame_by_frame_velocity" title="fragment.Fragment.frame_by_frame_velocity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frame_by_frame_velocity</span></code></a>()</td>
<td>Short summary.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.get_attribute_of_coexisting_fragments" title="fragment.Fragment.get_attribute_of_coexisting_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_attribute_of_coexisting_fragments</span></code></a>(attribute)</td>
<td>Retrieve a spevific attribute from the collection of fragments coexisting (in frame) with self</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.get_coexisting_individual_fragments_indices" title="fragment.Fragment.get_coexisting_individual_fragments_indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_coexisting_individual_fragments_indices</span></code></a>(…)</td>
<td>Get the list of fragment objects representing and individual (i.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.get_fixed_identities_of_coexisting_fragments" title="fragment.Fragment.get_fixed_identities_of_coexisting_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_fixed_identities_of_coexisting_fragments</span></code></a>()</td>
<td>Considers the fragments coexisting with self and returns their identities if they are fixed (see :attr:identity_is_fixed)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.get_missing_identities_in_coexisting_fragments" title="fragment.Fragment.get_missing_identities_in_coexisting_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_missing_identities_in_coexisting_fragments</span></code></a>(…)</td>
<td>Returns the identities that have not been assigned to the set of fragments coexisting with self</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.get_neighbour_fragment" title="fragment.Fragment.get_neighbour_fragment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_neighbour_fragment</span></code></a>(fragments,&nbsp;scope[,&nbsp;…])</td>
<td>If it exist, gets the fragment in the list of all fragment whose identity is the identity assigned to self and whose starting frame is the starting frame of self + 1, or ending frame is the ending frame of self - 1</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.get_possible_identities" title="fragment.Fragment.get_possible_identities"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_possible_identities</span></code></a>()</td>
<td>Check if P2 has two identical maxima.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.recompute_P2_of_coexisting_fragments" title="fragment.Fragment.recompute_P2_of_coexisting_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">recompute_P2_of_coexisting_fragments</span></code></a>()</td>
<td>Updates the P2 of the fragments coexisting with self (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">coexisting_individual_fragments</span></code>) if their identity is not fixed (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">identity_is_fixed</span></code>)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.reset" title="fragment.Fragment.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset</span></code></a>([roll_back_to])</td>
<td>Reset attributes of self to a specific part of the algorithm</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.set_P1_vector_accumulated" title="fragment.Fragment.set_P1_vector_accumulated"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_P1_vector_accumulated</span></code></a>()</td>
<td>If self has been used for training its P1_vector is modified to be a vector of zeros with a single component set to 1 in the <code class="xref py py-attr docutils literal notranslate"><span class="pre">temporary_id</span></code> position</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#fragment.Fragment.set_distance_travelled" title="fragment.Fragment.set_distance_travelled"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_distance_travelled</span></code></a>()</td>
<td>Computes the distance travelled by the individual in the fragment.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#fragment.Fragment.set_partially_or_globally_accumulated" title="fragment.Fragment.set_partially_or_globally_accumulated"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_partially_or_globally_accumulated</span></code></a>(…)</td>
<td>Sets <code class="xref py py-attr docutils literal notranslate"><span class="pre">accumulated_globally</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">accumulated_partially</span></code> according to <cite>accumulation_strategy</cite></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="fragment.Fragment.are_overlapping">
<code class="descname">are_overlapping</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.are_overlapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.are_overlapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Short summary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>other</strong> :  &lt;Fragment object&gt;</p>
<blockquote>
<div><p>A second fragment</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool</p>
<blockquote class="last">
<div><p>True if self and other coexist in at least one frame</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.assign_identity">
<code class="descname">assign_identity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.assign_identity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.assign_identity" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns the identity to self by considering the fragments coexisting
with it. If the certainty of the identification is high enough it sets
the identity of self to be fixed</p>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.check_consistency_with_coexistent_individual_fragments">
<code class="descname">check_consistency_with_coexistent_individual_fragments</code><span class="sig-paren">(</span><em>temporary_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.check_consistency_with_coexistent_individual_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.check_consistency_with_coexistent_individual_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the temporary identity assigned to the fragment is
consistent with respect to the identities already assigned to the
fragments coexisting (in frame) with it</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>temporary_id</strong> : int</p>
<blockquote>
<div><p>Temporary identity assigned to the fragment</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool</p>
<blockquote class="last">
<div><p>True if the identification of self with <cite>temporary_id</cite> does not
cause any duplication</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="fragment.Fragment.compute_P1_from_frequencies">
<em class="property">static </em><code class="descname">compute_P1_from_frequencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.compute_P1_from_frequencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.compute_P1_from_frequencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the frequencies of a individual fragment
computer the P1 vector. P1 is the softmax of the frequencies with base 2
for each identity.</p>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.compute_P2_vector">
<code class="descname">compute_P2_vector</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.compute_P2_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.compute_P2_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the P2_vector related to self. It is based on <code class="xref py py-attr docutils literal notranslate"><span class="pre">coexisting_individual_fragments</span></code></p>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.compute_border_velocity">
<code class="descname">compute_border_velocity</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.compute_border_velocity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.compute_border_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Velocity necessary to cover the space between two fragments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>other</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p>A second fragment</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>Returns the speed at which an individual should travel to be
present in both self and other Fragment objects</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="fragment.Fragment.compute_certainty_of_individual_fragment">
<em class="property">static </em><code class="descname">compute_certainty_of_individual_fragment</code><span class="sig-paren">(</span><em>median_softmax</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.compute_certainty_of_individual_fragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.compute_certainty_of_individual_fragment" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the certainty given the P1_vector of the fragment by
using the output of <a class="reference internal" href="#fragment.Fragment.compute_median_softmax" title="fragment.Fragment.compute_median_softmax"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_median_softmax()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>P1_vector</strong> : ndarray</p>
<blockquote>
<div><p>array with shape [1, number_of_animals] computed from frequencies by <a class="reference internal" href="#fragment.Fragment.compute_identification_statistics" title="fragment.Fragment.compute_identification_statistics"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_identification_statistics()</span></code></a></p>
</div></blockquote>
<p><strong>median_softmax</strong> : ndarray</p>
<blockquote>
<div><p>Median of argmax(softmax_probs) per image</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>Fragment’s certainty</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="fragment.Fragment.compute_identification_frequencies_individual_fragment">
<em class="property">static </em><code class="descname">compute_identification_frequencies_individual_fragment</code><span class="sig-paren">(</span><em>number_of_animals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.compute_identification_frequencies_individual_fragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.compute_identification_frequencies_individual_fragment" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the argmax of predictions per row</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>predictions</strong> : ndarray</p>
<blockquote>
<div><p>array of shape [n, 1]</p>
</div></blockquote>
<p><strong>number_of_animals</strong> : int</p>
<blockquote>
<div><p>number of animals to be tracked</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray</p>
<blockquote class="last">
<div><p>array of shape [1, number_of_animals], whose ith component counts how
many predictions have maximum components at the index i</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.compute_identification_statistics">
<code class="descname">compute_identification_statistics</code><span class="sig-paren">(</span><em>predictions</em>, <em>softmax_probs</em>, <em>number_of_animals=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.compute_identification_statistics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.compute_identification_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the statistics necessary to the identification of the
fragment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>predictions</strong> : ndarray</p>
<blockquote>
<div><p>array of shape [number_of_images_in_fragment, 1] whose components
are the argmax(softmax_probs) per image</p>
</div></blockquote>
<p><strong>softmax_probs</strong> : ndarray</p>
<blockquote>
<div><p>array of shape [number_of_images_in_fragment, number_of_animals]
whose rows are the result of applying the softmax function to the
predictions outputted by the idCNN per image</p>
</div></blockquote>
<p><strong>number_of_animals</strong> : int</p>
<blockquote class="last">
<div><p>Description of parameter <cite>number_of_animals</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#fragment.Fragment.compute_identification_frequencies_individual_fragment" title="fragment.Fragment.compute_identification_frequencies_individual_fragment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_identification_frequencies_individual_fragment()</span></code></a>, <a class="reference internal" href="#fragment.Fragment.compute_P1_from_frequencies" title="fragment.Fragment.compute_P1_from_frequencies"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_P1_from_frequencies()</span></code></a>, <a class="reference internal" href="#fragment.Fragment.compute_median_softmax" title="fragment.Fragment.compute_median_softmax"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_median_softmax()</span></code></a>, <a class="reference internal" href="#fragment.Fragment.compute_certainty_of_individual_fragment" title="fragment.Fragment.compute_certainty_of_individual_fragment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_certainty_of_individual_fragment()</span></code></a></p>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="fragment.Fragment.compute_median_softmax">
<em class="property">static </em><code class="descname">compute_median_softmax</code><span class="sig-paren">(</span><em>number_of_animals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.compute_median_softmax"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.compute_median_softmax" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the softmax of the predictions outputted by the network, it
computes their median according to the argmax of the softmaxed
predictions per image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>softmax_probs</strong> : ndarray</p>
<blockquote>
<div><p>array of shape [number_of_images_in_fragment, number_of_animals]
whose rows are the result of applying the softmax function to the
predictions outputted by the idCNN per image</p>
</div></blockquote>
<p><strong>number_of_animals</strong> : int</p>
<blockquote>
<div><p>number of animals to be tracked</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">type</p>
<blockquote class="last">
<div><p>Median of argmax(softmax_probs) per image</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.frame_by_frame_velocity">
<code class="descname">frame_by_frame_velocity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.frame_by_frame_velocity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.frame_by_frame_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Short summary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray</p>
<blockquote class="last">
<div><p>Frame by frame speed of the individual in the fragment</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.get_attribute_of_coexisting_fragments">
<code class="descname">get_attribute_of_coexisting_fragments</code><span class="sig-paren">(</span><em>attribute</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.get_attribute_of_coexisting_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.get_attribute_of_coexisting_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a spevific attribute from the collection of fragments
coexisting (in frame) with self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>attribute</strong> : str</p>
<blockquote>
<div><p>attribute to retrieve</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>attribute specified in <cite>attribute</cite> of the fragments coexisting with self</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.get_coexisting_individual_fragments_indices">
<code class="descname">get_coexisting_individual_fragments_indices</code><span class="sig-paren">(</span><em>fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.get_coexisting_individual_fragments_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.get_coexisting_individual_fragments_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of fragment objects representing and individual (i.e.
not representing a crossing where two or more animals are touching) and
coexisting (in frame) with self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fragments</strong> : list</p>
<blockquote class="last">
<div><p>List of all the fragments in the video</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.get_fixed_identities_of_coexisting_fragments">
<code class="descname">get_fixed_identities_of_coexisting_fragments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.get_fixed_identities_of_coexisting_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.get_fixed_identities_of_coexisting_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Considers the fragments coexisting with self and returns their
identities if they are fixed (see :attr:identity_is_fixed)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">type</p>
<blockquote class="last">
<div><p>Description of returned object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.get_missing_identities_in_coexisting_fragments">
<code class="descname">get_missing_identities_in_coexisting_fragments</code><span class="sig-paren">(</span><em>fixed_identities</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.get_missing_identities_in_coexisting_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.get_missing_identities_in_coexisting_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the identities that have not been assigned to the set of fragments coexisting with self</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fixed_identities</strong> : list</p>
<blockquote>
<div><p>List of fixed identities</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>List of missing identities in coexisting fragments</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.get_neighbour_fragment">
<code class="descname">get_neighbour_fragment</code><span class="sig-paren">(</span><em>fragments</em>, <em>scope</em>, <em>number_of_frames_in_direction=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.get_neighbour_fragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.get_neighbour_fragment" title="Permalink to this definition">¶</a></dt>
<dd><p>If it exist, gets the fragment in the list of all fragment whose
identity is the identity assigned to self and whose starting frame is
the starting frame of self + 1, or ending frame is the ending frame of
self - 1</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fragments</strong> : list</p>
<blockquote>
<div><p>List of all the fragments in the video</p>
</div></blockquote>
<p><strong>scope</strong> : str</p>
<blockquote>
<div><p>If “to_the_future” looks for the consecutive fragment wrt to self,
if “to_the_past” looks for the fragment the precedes self</p>
</div></blockquote>
<p><strong>number_of_frames_in_direction</strong> : int</p>
<blockquote>
<div><p>Distance (in frame) at which the previous or next fragment has to
be</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">&lt;Fragment object&gt;</p>
<blockquote class="last">
<div><p>The neighbouring fragment with respect to self in the direction
specified by scope if it exists. Otherwise None</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="fragment.Fragment.get_possible_identities">
<em class="property">static </em><code class="descname">get_possible_identities</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.get_possible_identities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.get_possible_identities" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if P2 has two identical maxima. In that case returns the indices.
Else return false</p>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.recompute_P2_of_coexisting_fragments">
<code class="descname">recompute_P2_of_coexisting_fragments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.recompute_P2_of_coexisting_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.recompute_P2_of_coexisting_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the P2 of the fragments coexisting with self
(see <code class="xref py py-attr docutils literal notranslate"><span class="pre">coexisting_individual_fragments</span></code>) if their identity is not
fixed (see <code class="xref py py-attr docutils literal notranslate"><span class="pre">identity_is_fixed</span></code>)</p>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>roll_back_to=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset attributes of self to a specific part of the algorithm</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>roll_back_to</strong> : str</p>
<blockquote class="last">
<div><p>Reset all the attributes up to the process specified in input.
‘fragmentation’, ‘pretraining’, ‘accumulation’, ‘assignment’</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.set_P1_vector_accumulated">
<code class="descname">set_P1_vector_accumulated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.set_P1_vector_accumulated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.set_P1_vector_accumulated" title="Permalink to this definition">¶</a></dt>
<dd><p>If self has been used for training its P1_vector is modified to be
a vector of zeros with a single component set to 1 in the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">temporary_id</span></code> position</p>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.set_distance_travelled">
<code class="descname">set_distance_travelled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.set_distance_travelled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.set_distance_travelled" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the distance travelled by the individual in the fragment.
It is based on the position of the centroids in consecutive images. See
<code class="xref py py-attr docutils literal notranslate"><span class="pre">centroid</span></code></p>
</dd></dl>

<dl class="method">
<dt id="fragment.Fragment.set_partially_or_globally_accumulated">
<code class="descname">set_partially_or_globally_accumulated</code><span class="sig-paren">(</span><em>accumulation_strategy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fragment.html#Fragment.set_partially_or_globally_accumulated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#fragment.Fragment.set_partially_or_globally_accumulated" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets <code class="xref py py-attr docutils literal notranslate"><span class="pre">accumulated_globally</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">accumulated_partially</span></code>
according to <cite>accumulation_strategy</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>accumulation_strategy</strong> : str</p>
<blockquote class="last">
<div><p>Can be “global” or “partial”</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="list-of-fragments">
<h2>List of fragments<a class="headerlink" href="#list-of-fragments" title="Permalink to this headline">¶</a></h2>
<p>Collection of instances of the class <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a></p>
<span class="target" id="module-list_of_fragments"></span><dl class="class">
<dt id="list_of_fragments.ListOfFragments">
<em class="property">class </em><code class="descclassname">list_of_fragments.</code><code class="descname">ListOfFragments</code><span class="sig-paren">(</span><em>fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects all the instances of the class <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a>
generated from the blobs extracted from the video during segmentation
(see <a class="reference internal" href="preprocessing.html#module-segmentation" title="segmentation"><code class="xref py py-mod docutils literal notranslate"><span class="pre">segmentation</span></code></a>) after having assigned to each Blob instance
a fragment identifier by using the method
<code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_fragment_identifier_and_blob_index()</span></code></p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>fragments</strong></td>
<td>(list) list of instances of the class <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a></td>
</tr>
<tr class="row-even"><td><strong>number_of_fragments</strong></td>
<td>(int) number of fragments computed by the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_fragment_identifier_and_blob_index()</span></code></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.compute_P2_vectors" title="list_of_fragments.ListOfFragments.compute_P2_vectors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_P2_vectors</span></code></a>()</td>
<td>Computes the P2_vector associated to every individual fragment.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.compute_number_of_unique_images_used_for_pretraining" title="list_of_fragments.ListOfFragments.compute_number_of_unique_images_used_for_pretraining"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_number_of_unique_images_used_for_pretraining</span></code></a>()</td>
<td>Returns the number of images used for pretraining (without repetitions)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.compute_number_of_unique_images_used_for_training" title="list_of_fragments.ListOfFragments.compute_number_of_unique_images_used_for_training"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_number_of_unique_images_used_for_training</span></code></a>()</td>
<td>Returns the number of images used for training (without repetitions)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.compute_ratio_of_images_used_for_pretraining" title="list_of_fragments.ListOfFragments.compute_ratio_of_images_used_for_pretraining"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_ratio_of_images_used_for_pretraining</span></code></a>()</td>
<td>Returns the ratio of images used for pretraining over the number of available images</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.compute_ratio_of_images_used_for_training" title="list_of_fragments.ListOfFragments.compute_ratio_of_images_used_for_training"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_ratio_of_images_used_for_training</span></code></a>()</td>
<td>Returns the ratio of images used for training over the number of available images</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.compute_total_number_of_images_in_global_fragments" title="list_of_fragments.ListOfFragments.compute_total_number_of_images_in_global_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_total_number_of_images_in_global_fragments</span></code></a>()</td>
<td>Sets the number of images available in global fragments (without repetitions)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.create_light_list" title="list_of_fragments.ListOfFragments.create_light_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_light_list</span></code></a>([attributes])</td>
<td>Creates a light version of an instance of ListOfFragments by storing only the attributes listed in <cite>attributes</cite> in a list of dictionaries</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_accumulable_individual_fragments_identifiers" title="list_of_fragments.ListOfFragments.get_accumulable_individual_fragments_identifiers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_accumulable_individual_fragments_identifiers</span></code></a>(…)</td>
<td>Gets the unique identifiers associated to individual fragments that can be accumulated</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_data_plot" title="list_of_fragments.ListOfFragments.get_data_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_data_plot</span></code></a>()</td>
<td>Gathers the data to plot the individual fragments’ statistics of the video.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_fragment_identifier_to_index_list" title="list_of_fragments.ListOfFragments.get_fragment_identifier_to_index_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_fragment_identifier_to_index_list</span></code></a>()</td>
<td>Creates a mapping between the attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">fragments</span></code> and their identifiers build from the <a class="reference internal" href="preprocessing.html#list_of_blobs.ListOfBlobs" title="list_of_blobs.ListOfBlobs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ListOfBlobs</span></code></a>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_images_from_fragments_to_assign" title="list_of_fragments.ListOfFragments.get_images_from_fragments_to_assign"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_images_from_fragments_to_assign</span></code></a>()</td>
<td>Take all the fragments that have not been used to train the idCNN and that are associated with an individual, and concatenates their images in order to feed them to the idCNN and get predictions</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_new_images_and_labels_for_training" title="list_of_fragments.ListOfFragments.get_new_images_and_labels_for_training"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_new_images_and_labels_for_training</span></code></a>()</td>
<td>Extract images and creates labels from every individual fragment that has not been used to train the network during the fingerprint protocols cascade</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_next_fragment_to_identify" title="list_of_fragments.ListOfFragments.get_next_fragment_to_identify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_next_fragment_to_identify</span></code></a>()</td>
<td>Returns the next fragment to be identified after the fingerprint protocols cascade by sorting according to the certainty computed with P2.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_not_accumulable_individual_fragments_identifiers" title="list_of_fragments.ListOfFragments.get_not_accumulable_individual_fragments_identifiers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_not_accumulable_individual_fragments_identifiers</span></code></a>(…)</td>
<td>Gets the unique identifiers associated to individual fragments that cannot be accumulated</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_number_of_unidentified_individual_fragments" title="list_of_fragments.ListOfFragments.get_number_of_unidentified_individual_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_number_of_unidentified_individual_fragments</span></code></a>()</td>
<td>Returns the number of individual fragments that have not been identified during the fingerprint protocols cascade</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_ordered_list_of_fragments" title="list_of_fragments.ListOfFragments.get_ordered_list_of_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_ordered_list_of_fragments</span></code></a>([scope,&nbsp;…])</td>
<td>Sorts the fragments starting from the frame number <cite>first_frame_first_global_fragment</cite>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.get_stats" title="list_of_fragments.ListOfFragments.get_stats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_stats</span></code></a>(list_of_global_fragments)</td>
<td>Collects the following statistics from both fragments and global fragments:</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.load" title="list_of_fragments.ListOfFragments.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(path_to_load)</td>
<td>Loads a previously saved (see <a class="reference internal" href="#list_of_fragments.ListOfFragments.load" title="list_of_fragments.ListOfFragments.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>) from the path <cite>path_to_load</cite></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.load_light_list" title="list_of_fragments.ListOfFragments.load_light_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_light_list</span></code></a>(accumulation_folder)</td>
<td>Loads a list of dictionaries created with the method <a class="reference internal" href="#list_of_fragments.ListOfFragments.create_light_list" title="list_of_fragments.ListOfFragments.create_light_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_light_list()</span></code></a> and saved with <a class="reference internal" href="#list_of_fragments.ListOfFragments.save_light_list" title="list_of_fragments.ListOfFragments.save_light_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_light_list()</span></code></a> from the folder <cite>accumulation_folder</cite></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.plot_stats" title="list_of_fragments.ListOfFragments.plot_stats"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_stats</span></code></a>(video)</td>
<td>Plots the statistics obtained through <a class="reference internal" href="#list_of_fragments.ListOfFragments.get_stats" title="list_of_fragments.ListOfFragments.get_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stats()</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.reset" title="list_of_fragments.ListOfFragments.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset</span></code></a>([roll_back_to])</td>
<td>Resets all the fragment by using the method <code class="xref py py-meth docutils literal notranslate"><span class="pre">roll_back_to()</span></code>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.save" title="list_of_fragments.ListOfFragments.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(fragments_path)</td>
<td>saves an instance of ListOfFragments in the path specified by <cite>fragments_path</cite></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.save_light_list" title="list_of_fragments.ListOfFragments.save_light_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_light_list</span></code></a>(accumulation_folder)</td>
<td>Saves a list of dictionaries created with the method <a class="reference internal" href="#list_of_fragments.ListOfFragments.create_light_list" title="list_of_fragments.ListOfFragments.create_light_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_light_list()</span></code></a> in the folder <cite>accumulation_folder</cite></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.set_fragments_as_accumulable_or_not_accumulable" title="list_of_fragments.ListOfFragments.set_fragments_as_accumulable_or_not_accumulable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_fragments_as_accumulable_or_not_accumulable</span></code></a>()</td>
<td>Set the attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">accumulable</span></code>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.update_fragments_dictionary" title="list_of_fragments.ListOfFragments.update_fragments_dictionary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_fragments_dictionary</span></code></a>(list_of_dictionaries)</td>
<td>Update fragment objects (see <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a>) by considering a list of dictionaries.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_fragments.ListOfFragments.update_from_list_of_blobs" title="list_of_fragments.ListOfFragments.update_from_list_of_blobs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_from_list_of_blobs</span></code></a>(blobs_in_video,&nbsp;…)</td>
<td>Updates an instance of ListOfFragments by considering an instance of ListOfBlobs (see <a class="reference internal" href="preprocessing.html#list_of_blobs.ListOfBlobs" title="list_of_blobs.ListOfBlobs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ListOfBlobs</span></code></a>).</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="list_of_fragments.ListOfFragments.compute_P2_vectors">
<code class="descname">compute_P2_vectors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.compute_P2_vectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.compute_P2_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the P2_vector associated to every individual fragment. See
<a class="reference internal" href="#fragment.Fragment.compute_P2_vector" title="fragment.Fragment.compute_P2_vector"><code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_P2_vector()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.compute_number_of_unique_images_used_for_pretraining">
<code class="descname">compute_number_of_unique_images_used_for_pretraining</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.compute_number_of_unique_images_used_for_pretraining"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.compute_number_of_unique_images_used_for_pretraining" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of images used for pretraining
(without repetitions)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">int</p>
<blockquote class="last">
<div><p>Number of images used in pretraining</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.compute_number_of_unique_images_used_for_training">
<code class="descname">compute_number_of_unique_images_used_for_training</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.compute_number_of_unique_images_used_for_training"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.compute_number_of_unique_images_used_for_training" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of images used for training
(without repetitions)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">int</p>
<blockquote class="last">
<div><p>Number of images used in training</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.compute_ratio_of_images_used_for_pretraining">
<code class="descname">compute_ratio_of_images_used_for_pretraining</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.compute_ratio_of_images_used_for_pretraining"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.compute_ratio_of_images_used_for_pretraining" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ratio of images used for pretraining over the number of
available images</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>Ratio of images used for pretraining</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.compute_ratio_of_images_used_for_training">
<code class="descname">compute_ratio_of_images_used_for_training</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.compute_ratio_of_images_used_for_training"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.compute_ratio_of_images_used_for_training" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ratio of images used for training over the number of
available images</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">float</p>
<blockquote class="last">
<div><p>Ratio of images used for training</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.compute_total_number_of_images_in_global_fragments">
<code class="descname">compute_total_number_of_images_in_global_fragments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.compute_total_number_of_images_in_global_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.compute_total_number_of_images_in_global_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the number of images available in global fragments (without repetitions)</p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.create_light_list">
<code class="descname">create_light_list</code><span class="sig-paren">(</span><em>attributes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.create_light_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.create_light_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a light version of an instance of ListOfFragments by storing
only the attributes listed in <cite>attributes</cite> in a list of dictionaries</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>attributes</strong> : list</p>
<blockquote>
<div><p>list of attributes to be stored</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>list of dictionaries organised per fragment with keys the
attributes listed in <cite>attributes</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_accumulable_individual_fragments_identifiers">
<code class="descname">get_accumulable_individual_fragments_identifiers</code><span class="sig-paren">(</span><em>list_of_global_fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_accumulable_individual_fragments_identifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_accumulable_individual_fragments_identifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the unique identifiers associated to individual fragments that
can be accumulated</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_of_global_fragments</strong> : &lt;ListOfGlobalFragments object&gt;</p>
<blockquote class="last">
<div><p>Object collecting the global fragment objects (instances of the
class <code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code>) detected in the
entire video</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_data_plot">
<code class="descname">get_data_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_data_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_data_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Gathers the data to plot the individual fragments’ statistics of the
video.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray</p>
<blockquote>
<div><p>array of shape [number_of_individual_fragments, 1]. Number of
images in individual fragments</p>
</div></blockquote>
<p>ndarray</p>
<blockquote>
<div><p>array of shape [number_of_individual_fragments, 1]. Distance
travelled in every individual fragment</p>
</div></blockquote>
<p>int</p>
<blockquote class="last">
<div><p>Number of images in crossing fragments</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_fragment_identifier_to_index_list">
<code class="descname">get_fragment_identifier_to_index_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_fragment_identifier_to_index_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_fragment_identifier_to_index_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a mapping between the attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">fragments</span></code> and
their identifiers build from the <a class="reference internal" href="preprocessing.html#list_of_blobs.ListOfBlobs" title="list_of_blobs.ListOfBlobs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ListOfBlobs</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>Mapping from the collection of fragments to the list of fragment
identifiers</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_images_from_fragments_to_assign">
<code class="descname">get_images_from_fragments_to_assign</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_images_from_fragments_to_assign"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_images_from_fragments_to_assign" title="Permalink to this definition">¶</a></dt>
<dd><p>Take all the fragments that have not been used to train the idCNN
and that are associated with an individual, and concatenates their
images in order to feed them to the idCNN and get predictions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray</p>
<blockquote class="last">
<div><p>[number_of_images, height, width, number_of_channels]</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_new_images_and_labels_for_training">
<code class="descname">get_new_images_and_labels_for_training</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_new_images_and_labels_for_training"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_new_images_and_labels_for_training" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract images and creates labels from every individual fragment
that has not been used to train the network during the fingerprint
protocols cascade</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote>
<div><p>images</p>
</div></blockquote>
<p>list</p>
<blockquote class="last">
<div><p>labels</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_next_fragment_to_identify">
<code class="descname">get_next_fragment_to_identify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_next_fragment_to_identify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_next_fragment_to_identify" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the next fragment to be identified after the fingerprint
protocols cascade by sorting according to the certainty computed with
P2. See <code class="xref py py-attr docutils literal notranslate"><span class="pre">certainty_P2</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">&lt;Fragment object&gt;</p>
<blockquote class="last">
<div><p>an instance of the class <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_not_accumulable_individual_fragments_identifiers">
<code class="descname">get_not_accumulable_individual_fragments_identifiers</code><span class="sig-paren">(</span><em>list_of_global_fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_not_accumulable_individual_fragments_identifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_not_accumulable_individual_fragments_identifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the unique identifiers associated to individual fragments that
cannot be accumulated</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_of_global_fragments</strong> : &lt;ListOfGlobalFragments object&gt;</p>
<blockquote class="last">
<div><p>Object collecting the global fragment objects (instances of the
class <code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code>) detected in the
entire video</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_number_of_unidentified_individual_fragments">
<code class="descname">get_number_of_unidentified_individual_fragments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_number_of_unidentified_individual_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_number_of_unidentified_individual_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of individual fragments that have not been
identified during the fingerprint protocols cascade</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">int</p>
<blockquote class="last">
<div><p>number of non-identified individual fragments</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_ordered_list_of_fragments">
<code class="descname">get_ordered_list_of_fragments</code><span class="sig-paren">(</span><em>scope=None</em>, <em>first_frame_first_global_fragment=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_ordered_list_of_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_ordered_list_of_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the fragments starting from the frame number
<cite>first_frame_first_global_fragment</cite>. According to <cite>scope</cite> the sorting
is done either “to the future” of “to the past” with respect to
<cite>first_frame_first_global_fragment</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>scope</strong> : str</p>
<blockquote>
<div><p>either “to_the_past” or “to_the_future”</p>
</div></blockquote>
<p><strong>first_frame_first_global_fragment</strong> : int</p>
<blockquote>
<div><p>frame number corresponding to the first frame in which all the
individual fragments coexist in the first global fragment using
in an iteration of the fingerprint protocol cascade</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>list of sorted fragments</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.get_stats">
<code class="descname">get_stats</code><span class="sig-paren">(</span><em>list_of_global_fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.get_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.get_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects the following statistics from both fragments and global
fragments:</p>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>number_of_fragments
<a href="#id3"><span class="problematic" id="id4">*</span></a>number_of_crossing_fragments
<a href="#id5"><span class="problematic" id="id6">*</span></a>number_of_individual_fragments
<a href="#id7"><span class="problematic" id="id8">*</span></a>number_of_individual_fragments_not_in_a_global_fragment
<a href="#id9"><span class="problematic" id="id10">*</span></a>number_of_accumulable_individual_fragments
<a href="#id11"><span class="problematic" id="id12">*</span></a>number_of_not_accumulable_individual_fragments
<a href="#id13"><span class="problematic" id="id14">*</span></a>number_of_accumualted_individual_fragments
<a href="#id15"><span class="problematic" id="id16">*</span></a>number_of_globally_accumulated_individual_fragments
<a href="#id17"><span class="problematic" id="id18">*</span></a>number_of_partially_accumulated_individual_fragments
<a href="#id19"><span class="problematic" id="id20">*</span></a>number_of_blobs
<a href="#id21"><span class="problematic" id="id22">*</span></a>number_of_crossing_blobs
<a href="#id23"><span class="problematic" id="id24">*</span></a>number_of_individual_blobs
<a href="#id25"><span class="problematic" id="id26">*</span></a>number_of_individual_blobs_not_in_a_global_fragment
<a href="#id27"><span class="problematic" id="id28">*</span></a>number_of_accumulable_individual_blobs
<a href="#id29"><span class="problematic" id="id30">*</span></a>number_of_not_accumulable_individual_blobs
<a href="#id31"><span class="problematic" id="id32">*</span></a>number_of_accumualted_individual_blobs
<a href="#id33"><span class="problematic" id="id34">*</span></a>number_of_globally_accumulated_individual_blobs
<a href="#id35"><span class="problematic" id="id36">*</span></a>number_of_partially_accumulated_individual_blobs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>list_of_global_fragments</strong> : &lt;ListOfGlobalFragments object&gt;</p>
<blockquote>
<div><p>Object collecting the global fragment objects (instances of the
class <code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code>) detected in the
entire video</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict</p>
<blockquote class="last">
<div><p>dictionary of statistics</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="list_of_fragments.ListOfFragments.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>path_to_load</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a previously saved (see <a class="reference internal" href="#list_of_fragments.ListOfFragments.load" title="list_of_fragments.ListOfFragments.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a>) from the path
<cite>path_to_load</cite></p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.load_light_list">
<code class="descname">load_light_list</code><span class="sig-paren">(</span><em>accumulation_folder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.load_light_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.load_light_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a list of dictionaries created with the method
<a class="reference internal" href="#list_of_fragments.ListOfFragments.create_light_list" title="list_of_fragments.ListOfFragments.create_light_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_light_list()</span></code></a> and saved with <a class="reference internal" href="#list_of_fragments.ListOfFragments.save_light_list" title="list_of_fragments.ListOfFragments.save_light_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_light_list()</span></code></a> from
the folder <cite>accumulation_folder</cite></p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.plot_stats">
<code class="descname">plot_stats</code><span class="sig-paren">(</span><em>video</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.plot_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.plot_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the statistics obtained through <a class="reference internal" href="#list_of_fragments.ListOfFragments.get_stats" title="list_of_fragments.ListOfFragments.get_stats"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_stats()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote class="last">
<div><p>See <a class="reference internal" href="video_information_manager.html#video.Video" title="video.Video"><code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>roll_back_to=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all the fragment by using the method
<code class="xref py py-meth docutils literal notranslate"><span class="pre">roll_back_to()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>fragments_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.save" title="Permalink to this definition">¶</a></dt>
<dd><p>saves an instance of ListOfFragments in the path specified by
<cite>fragments_path</cite></p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.save_light_list">
<code class="descname">save_light_list</code><span class="sig-paren">(</span><em>accumulation_folder</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.save_light_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.save_light_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves a list of dictionaries created with the method
<a class="reference internal" href="#list_of_fragments.ListOfFragments.create_light_list" title="list_of_fragments.ListOfFragments.create_light_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_light_list()</span></code></a> in the folder <cite>accumulation_folder</cite></p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.set_fragments_as_accumulable_or_not_accumulable">
<code class="descname">set_fragments_as_accumulable_or_not_accumulable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.set_fragments_as_accumulable_or_not_accumulable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.set_fragments_as_accumulable_or_not_accumulable" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">accumulable</span></code></p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.update_fragments_dictionary">
<code class="descname">update_fragments_dictionary</code><span class="sig-paren">(</span><em>list_of_dictionaries</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.update_fragments_dictionary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.update_fragments_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Update fragment objects (see <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a>) by
considering a list of dictionaries</p>
</dd></dl>

<dl class="method">
<dt id="list_of_fragments.ListOfFragments.update_from_list_of_blobs">
<code class="descname">update_from_list_of_blobs</code><span class="sig-paren">(</span><em>blobs_in_video</em>, <em>fragment_identifier_to_index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#ListOfFragments.update_from_list_of_blobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.ListOfFragments.update_from_list_of_blobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an instance of ListOfFragments by considering an instance of
ListOfBlobs (see <a class="reference internal" href="preprocessing.html#list_of_blobs.ListOfBlobs" title="list_of_blobs.ListOfBlobs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ListOfBlobs</span></code></a>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blobs_in_video</strong> : list</p>
<blockquote>
<div><p>list of the blob objects (see class <a class="reference internal" href="preprocessing.html#blob.Blob" title="blob.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>) generated
from the blobs segmented in the video</p>
</div></blockquote>
<p><strong>fragment_identifier_to_index</strong> : list</p>
<blockquote class="last">
<div><p>Mapping from the collection of fragments to the list of fragment
identifiers</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="list_of_fragments.create_list_of_fragments">
<code class="descclassname">list_of_fragments.</code><code class="descname">create_list_of_fragments</code><span class="sig-paren">(</span><em>blobs_in_video</em>, <em>number_of_animals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_fragments.html#create_list_of_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_fragments.create_list_of_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a list of instances of <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a> collecting
all the fragments in the video.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blobs_in_video</strong> : list</p>
<blockquote>
<div><p>list of the blob objects (see class <a class="reference internal" href="preprocessing.html#blob.Blob" title="blob.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>) generated
from the blobs segmented in the video</p>
</div></blockquote>
<p><strong>number_of_animals</strong> : int</p>
<blockquote>
<div><p>Number of animals to track</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>list of instances of <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="global-fragment">
<h2>Global fragment<a class="headerlink" href="#global-fragment" title="Permalink to this headline">¶</a></h2>
<p>Global fragments are the core of the tracking algorithm: They are collection of instances of the class <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a>
that contains images extracted from a part of the video in which all the animals are visible.</p>
<span class="target" id="module-globalfragment"></span><dl class="class">
<dt id="globalfragment.GlobalFragment">
<em class="property">class </em><code class="descclassname">globalfragment.</code><code class="descname">GlobalFragment</code><span class="sig-paren">(</span><em>list_of_blobs</em>, <em>fragments</em>, <em>index_beginning_of_fragment</em>, <em>number_of_animals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment" title="Permalink to this definition">¶</a></dt>
<dd><p>A global fragment is a collection of instances of the class
<a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a>. Such fragments are collected from a part of the
video in which all animals are visible.</p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>index_beginning_of_fragment</strong></td>
<td>(int) minimum frame number in which all the individual fragments (see <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a>) are all coexisting</td>
</tr>
<tr class="row-even"><td><strong>individual_fragments_identifiers</strong></td>
<td>(list) list of the fragment identifiers associated to the individual fragments composing the global fragment (see <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a>)</td>
</tr>
<tr class="row-odd"><td><strong>number_of_animals</strong></td>
<td>(int) number of animals to be tracked</td>
</tr>
<tr class="row-even"><td><strong>_is_unique</strong></td>
<td>(bool) True if each of the individual fragments have been assigned to a unique identity</td>
</tr>
<tr class="row-odd"><td><strong>_is_certain</strong></td>
<td>(bool) True if each of the individual fragments have scored a certaninty above the threshold <code class="xref py py-const docutils literal notranslate"><span class="pre">CERTAINTY_THRESHOLD</span></code></td>
</tr>
<tr class="row-even"><td><strong>_ids_assigned</strong></td>
<td>(ndarray) shape [1, number_of_animals] each componenents correspond to the identity assigned by the algorithm to each of the individual fragments</td>
</tr>
<tr class="row-odd"><td><strong>_temporary_ids</strong></td>
<td>(ndarray) shape [1, number_of_animals] temporary ids assigned during the fingerprinting protocol to each of the fragments composing the global fragment</td>
</tr>
<tr class="row-even"><td><strong>_repeated_ids</strong></td>
<td>(list) list of identities repeated during the identification of the fragments in the individual fragment</td>
</tr>
<tr class="row-odd"><td><strong>_missing_ids</strong></td>
<td>(list) list of identities not assigned in the global fragment (since in a global fragment all animals are visible, all the identities should be assigned)</td>
</tr>
<tr class="row-even"><td><strong>predictions</strong></td>
<td>(list) list of <code class="xref py py-attr docutils literal notranslate"><span class="pre">predictions</span></code> for every individual fragment</td>
</tr>
<tr class="row-odd"><td><strong>softmax_probs_median</strong></td>
<td>(list) list of <code class="xref py py-attr docutils literal notranslate"><span class="pre">softmax_probs_median</span></code> for every individual fragment</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#globalfragment.GlobalFragment.acceptable_for_training" title="globalfragment.GlobalFragment.acceptable_for_training"><code class="xref py py-obj docutils literal notranslate"><span class="pre">acceptable_for_training</span></code></a>(accumulation_strategy)</td>
<td>Returns True if the global fragment is acceptable for training.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#globalfragment.GlobalFragment.check_uniqueness" title="globalfragment.GlobalFragment.check_uniqueness"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_uniqueness</span></code></a>(scope)</td>
<td>Checks that the identities assigned to the individual fragments are unique</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#globalfragment.GlobalFragment.compute_start_end_frame_indices_of_individual_fragments" title="globalfragment.GlobalFragment.compute_start_end_frame_indices_of_individual_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_start_end_frame_indices_of_individual_fragments</span></code></a>(…)</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#globalfragment.GlobalFragment.get_images_and_labels_for_pretraining" title="globalfragment.GlobalFragment.get_images_and_labels_for_pretraining"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_images_and_labels_for_pretraining</span></code></a>()</td>
<td>Arrange the images and identities in the global fragment as a labelled dataset in order to train the idCNN</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#globalfragment.GlobalFragment.get_individual_fragments_of_global_fragment" title="globalfragment.GlobalFragment.get_individual_fragments_of_global_fragment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_individual_fragments_of_global_fragment</span></code></a>(…)</td>
<td>Get the individual fragments in the global fragments by using their unique identifiers</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#globalfragment.GlobalFragment.get_list_of_attributes_from_individual_fragments" title="globalfragment.GlobalFragment.get_list_of_attributes_from_individual_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_list_of_attributes_from_individual_fragments</span></code></a>(…)</td>
<td>Given a set of attributes available in the instances of the class <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a> it copies them in the global fragment.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#globalfragment.GlobalFragment.get_total_number_of_images" title="globalfragment.GlobalFragment.get_total_number_of_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_total_number_of_images</span></code></a>()</td>
<td>Gets the total number of images in the global fragment</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#globalfragment.GlobalFragment.reset" title="globalfragment.GlobalFragment.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset</span></code></a>(roll_back_to)</td>
<td>Resets attributes to the fragmentation step in the algorithm, allowing for example to start a new accumulation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#globalfragment.GlobalFragment.set_candidate_for_accumulation" title="globalfragment.GlobalFragment.set_candidate_for_accumulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_candidate_for_accumulation</span></code></a>()</td>
<td>Sets the global fragment to be eligible for accumulation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#globalfragment.GlobalFragment.set_minimum_distance_travelled" title="globalfragment.GlobalFragment.set_minimum_distance_travelled"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_minimum_distance_travelled</span></code></a>()</td>
<td>Sets the minum distance travelled attribute</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#globalfragment.GlobalFragment.update_individual_fragments_attribute" title="globalfragment.GlobalFragment.update_individual_fragments_attribute"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_individual_fragments_attribute</span></code></a>(…)</td>
<td>Update <cite>attribute</cite> in every individual fragment in the global fragment by setting it at <cite>value</cite></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="globalfragment.GlobalFragment.acceptable_for_training">
<code class="descname">acceptable_for_training</code><span class="sig-paren">(</span><em>accumulation_strategy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.acceptable_for_training"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.acceptable_for_training" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the global fragment is acceptable for training.
See <code class="xref py py-attr docutils literal notranslate"><span class="pre">acceptable_for_training</span></code> for every
individual fragment in the global fragment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>accumulation_strategy</strong> : str</p>
<blockquote>
<div><p>can be either “global” or “partial”</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool</p>
<blockquote class="last">
<div><p>True if the global fragment is accceptable for training</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.check_uniqueness">
<code class="descname">check_uniqueness</code><span class="sig-paren">(</span><em>scope</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.check_uniqueness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.check_uniqueness" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that the identities assigned to the individual fragments are
unique</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>scope</strong> : str</p>
<blockquote class="last">
<div><p>Either “global” or “partial”</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.compute_start_end_frame_indices_of_individual_fragments">
<code class="descname">compute_start_end_frame_indices_of_individual_fragments</code><span class="sig-paren">(</span><em>blobs_in_video</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.compute_start_end_frame_indices_of_individual_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.compute_start_end_frame_indices_of_individual_fragments" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blobs_in_video</strong> : list</p>
<blockquote class="last">
<div><p>list of the blob objects (see <a class="reference internal" href="preprocessing.html#blob.Blob" title="blob.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>) segmented from
the video</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.get_images_and_labels_for_pretraining">
<code class="descname">get_images_and_labels_for_pretraining</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.get_images_and_labels_for_pretraining"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.get_images_and_labels_for_pretraining" title="Permalink to this definition">¶</a></dt>
<dd><p>Arrange the images and identities in the global fragment as a
labelled dataset in order to train the idCNN</p>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.get_individual_fragments_of_global_fragment">
<code class="descname">get_individual_fragments_of_global_fragment</code><span class="sig-paren">(</span><em>fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.get_individual_fragments_of_global_fragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.get_individual_fragments_of_global_fragment" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the individual fragments in the global fragments by using their
unique identifiers</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fragments</strong> : list</p>
<blockquote class="last">
<div><p>all the fragments extracted from the video
(see <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a>)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.get_list_of_attributes_from_individual_fragments">
<code class="descname">get_list_of_attributes_from_individual_fragments</code><span class="sig-paren">(</span><em>fragments, list_of_attributes=['distance_travelled', 'number_of_images']</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.get_list_of_attributes_from_individual_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.get_list_of_attributes_from_individual_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of attributes available in the instances of the class
<a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a> it copies them in the global fragment.
For instance the attribute number_of_images belonging to the individual
fragments in the global fragment will be set as
<cite>global_fragment.number_of_images_per_individual_fragment</cite>, where each
element of the list corresponds to the number_of_images of each
individual fragment preserving the order with which the global fragment
has been initialised</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fragments</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p>See <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a></p>
</div></blockquote>
<p><strong>list_of_attributes</strong> : list</p>
<blockquote class="last">
<div><p>List of attributes to be transferred from the individual fragments
to the global fragment</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.get_total_number_of_images">
<code class="descname">get_total_number_of_images</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.get_total_number_of_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.get_total_number_of_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the total number of images in the global fragment</p>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>roll_back_to</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets attributes to the fragmentation step in the algorithm,
allowing for example to start a new accumulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>roll_back_to</strong> : str</p>
<blockquote class="last">
<div><p>“fragmentation”</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.set_candidate_for_accumulation">
<code class="descname">set_candidate_for_accumulation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.set_candidate_for_accumulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.set_candidate_for_accumulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the global fragment to be eligible for accumulation</p>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.set_minimum_distance_travelled">
<code class="descname">set_minimum_distance_travelled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.set_minimum_distance_travelled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.set_minimum_distance_travelled" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the minum distance travelled attribute</p>
</dd></dl>

<dl class="method">
<dt id="globalfragment.GlobalFragment.update_individual_fragments_attribute">
<code class="descname">update_individual_fragments_attribute</code><span class="sig-paren">(</span><em>attribute</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/globalfragment.html#GlobalFragment.update_individual_fragments_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#globalfragment.GlobalFragment.update_individual_fragments_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Update <cite>attribute</cite> in every individual fragment in the global
fragment by setting it at <cite>value</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>attribute</strong> : str</p>
<blockquote>
<div><p>attribute to be updated</p>
</div></blockquote>
<p><strong>value</strong> : list, int, float</p>
<blockquote class="last">
<div><p>value of <cite>attribute</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="list-of-global-fragments">
<h2>List of global fragments<a class="headerlink" href="#list-of-global-fragments" title="Permalink to this headline">¶</a></h2>
<p>Collection of instances of the class <a class="reference internal" href="#globalfragment.GlobalFragment" title="globalfragment.GlobalFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code></a>.
Global fragments are used to create the dataset of labelled images used to train
the idCNN during the fingerprint protocols cascade.</p>
<span class="target" id="module-list_of_global_fragments"></span><dl class="class">
<dt id="list_of_global_fragments.ListOfGlobalFragments">
<em class="property">class </em><code class="descclassname">list_of_global_fragments.</code><code class="descname">ListOfGlobalFragments</code><span class="sig-paren">(</span><em>global_fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Collects all the instances of the class
<code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code>
generated by considering the fragments
(see <code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_fragment_identifier_and_blob_index()</span></code>)</p>
<p class="rubric">Notes</p>
<p>A minimum number of images per individual fragments is required for a
global fragment to be acceptable for the accumulation. This number is set
in
<code class="xref py py-const docutils literal notranslate"><span class="pre">MINIMUM_NUMBER_OF_FRAMES_TO_BE_A_CANDIDATE_FOR_ACCUMULATION</span></code></p>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>global_fragments</strong></td>
<td>(list) list of instances of the class <a class="reference internal" href="#globalfragment.GlobalFragment" title="globalfragment.GlobalFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code></a></td>
</tr>
<tr class="row-even"><td><strong>number_of_global_fragments</strong></td>
<td>( int) length of <cite>global_fragments</cite></td>
</tr>
<tr class="row-odd"><td><strong>first_global_fragment_for_accumulation</strong></td>
<td>( &lt;GlobalFragment object&gt;) first global fragment used to start the protocols. See <a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.set_first_global_fragment_for_accumulation" title="list_of_global_fragments.ListOfGlobalFragments.set_first_global_fragment_for_accumulation"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_first_global_fragment_for_accumulation()</span></code></a></td>
</tr>
<tr class="row-even"><td><strong>maximum_number_of_images</strong></td>
<td>(int) maximum number of images contained in the global fragments listed in <cite>global_fragments</cite></td>
</tr>
<tr class="row-odd"><td><strong>non_accumulable_global_fragments</strong></td>
<td>(list) list of global fragments that cannot be used during the accumulation protocols. See <code class="xref py py-attr docutils literal notranslate"><span class="pre">candidate_for_accumulation</span></code></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">abort_knowledge_transfer_on_same_animals</span></code>(net)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.compute_maximum_number_of_images" title="list_of_global_fragments.ListOfGlobalFragments.compute_maximum_number_of_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_maximum_number_of_images</span></code></a>()</td>
<td>Computes the maximum number of images in the global fragments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.delete_fragments_from_global_fragments" title="list_of_global_fragments.ListOfGlobalFragments.delete_fragments_from_global_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">delete_fragments_from_global_fragments</span></code></a>()</td>
<td>Deletes the individual fragments from each of the global fragments</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.filter_candidates_global_fragments_for_accumulation" title="list_of_global_fragments.ListOfGlobalFragments.filter_candidates_global_fragments_for_accumulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter_candidates_global_fragments_for_accumulation</span></code></a>()</td>
<td>Filters the global fragments by taking into account the minium number of images per individual fragments specified in <code class="xref py py-attr docutils literal notranslate"><span class="pre">candidate_for_accumulation</span></code>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.get_data_plot" title="list_of_global_fragments.ListOfGlobalFragments.get_data_plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_data_plot</span></code></a>()</td>
<td>Gathers data to plot a global fragments statistics summary</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.give_me_frequencies_first_fragment_accumulated" title="list_of_global_fragments.ListOfGlobalFragments.give_me_frequencies_first_fragment_accumulated"><code class="xref py py-obj docutils literal notranslate"><span class="pre">give_me_frequencies_first_fragment_accumulated</span></code></a>(…)</td>
<td>The frequencies (see <code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_identification_statistics()</span></code>) are generated artificially for the first global fragments.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.load" title="list_of_global_fragments.ListOfGlobalFragments.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(path_to_load,&nbsp;fragments)</td>
<td>Loads an instance of the class saved with <a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.save" title="list_of_global_fragments.ListOfGlobalFragments.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> and associates individual fragments to each global fragment by calling <a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments" title="list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments"><code class="xref py py-meth docutils literal notranslate"><span class="pre">relink_fragments_to_global_fragments()</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.order_by_distance_to_the_first_global_fragment_for_accumulation" title="list_of_global_fragments.ListOfGlobalFragments.order_by_distance_to_the_first_global_fragment_for_accumulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">order_by_distance_to_the_first_global_fragment_for_accumulation</span></code></a>(video)</td>
<td>Sorts the global fragments wrt to their distance from the first global fragment chose for accumulation</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.order_by_distance_travelled" title="list_of_global_fragments.ListOfGlobalFragments.order_by_distance_travelled"><code class="xref py py-obj docutils literal notranslate"><span class="pre">order_by_distance_travelled</span></code></a>()</td>
<td>Sorts the global fragments by the minimum distance travelled of their individual fragments</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments" title="list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">relink_fragments_to_global_fragments</span></code></a>(fragments)</td>
<td>Resets the individual fragments to their respective global fragments</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.reset" title="list_of_global_fragments.ListOfGlobalFragments.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset</span></code></a>([roll_back_to])</td>
<td>Resets all the global fragment by calling recursively the method <a class="reference internal" href="#globalfragment.GlobalFragment.reset" title="globalfragment.GlobalFragment.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code></a>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.save" title="list_of_global_fragments.ListOfGlobalFragments.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a>(global_fragments_path,&nbsp;fragments)</td>
<td>Saves an instance of the class in the path <cite>global_fragments_path</cite>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.set_first_global_fragment_for_accumulation" title="list_of_global_fragments.ListOfGlobalFragments.set_first_global_fragment_for_accumulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_first_global_fragment_for_accumulation</span></code></a>(…)</td>
<td>Selects the first global fragment to be used for accumulation</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.compute_maximum_number_of_images">
<code class="descname">compute_maximum_number_of_images</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.compute_maximum_number_of_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.compute_maximum_number_of_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the maximum number of images in the global fragments</p>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.delete_fragments_from_global_fragments">
<code class="descname">delete_fragments_from_global_fragments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.delete_fragments_from_global_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.delete_fragments_from_global_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the individual fragments from each of the global fragments</p>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.filter_candidates_global_fragments_for_accumulation">
<code class="descname">filter_candidates_global_fragments_for_accumulation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.filter_candidates_global_fragments_for_accumulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.filter_candidates_global_fragments_for_accumulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters the global fragments by taking into account the minium
number of images per individual fragments specified in
<code class="xref py py-attr docutils literal notranslate"><span class="pre">candidate_for_accumulation</span></code></p>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.get_data_plot">
<code class="descname">get_data_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.get_data_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.get_data_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Gathers data to plot a global fragments statistics summary</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">int</p>
<blockquote>
<div><p>number of images in the shortest individual fragment</p>
</div></blockquote>
<p>int</p>
<blockquote>
<div><p>number of images in the longest individual fragment</p>
</div></blockquote>
<p>int</p>
<blockquote>
<div><p>number of images per individual fragment in global fragment</p>
</div></blockquote>
<p>int</p>
<blockquote>
<div><p>median number of images in global fragments</p>
</div></blockquote>
<p>float</p>
<blockquote class="last">
<div><p>minimum distance travelled</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="list_of_global_fragments.ListOfGlobalFragments.give_me_frequencies_first_fragment_accumulated">
<em class="property">static </em><code class="descname">give_me_frequencies_first_fragment_accumulated</code><span class="sig-paren">(</span><em>number_of_animals</em>, <em>fragment</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.give_me_frequencies_first_fragment_accumulated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.give_me_frequencies_first_fragment_accumulated" title="Permalink to this definition">¶</a></dt>
<dd><p>The frequencies (see <code class="xref py py-meth docutils literal notranslate"><span class="pre">compute_identification_statistics()</span></code>)
are generated artificially for the first global fragments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>i</strong> : int</p>
<blockquote>
<div><p>identity associated to the <cite>fragment</cite></p>
</div></blockquote>
<p><strong>number_of_animals</strong> : int</p>
<blockquote>
<div><p>number of animals to track</p>
</div></blockquote>
<p><strong>fragment</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p>an instance of the class <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray</p>
<blockquote class="last">
<div><p>array of zeros with the <cite>i`th component equal to
:attr:`~fragment.Fragment.number_of_images</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="list_of_global_fragments.ListOfGlobalFragments.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>path_to_load</em>, <em>fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads an instance of the class saved with <a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.save" title="list_of_global_fragments.ListOfGlobalFragments.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> and
associates individual fragments to each global fragment by calling
<a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments" title="list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments"><code class="xref py py-meth docutils literal notranslate"><span class="pre">relink_fragments_to_global_fragments()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.order_by_distance_to_the_first_global_fragment_for_accumulation">
<code class="descname">order_by_distance_to_the_first_global_fragment_for_accumulation</code><span class="sig-paren">(</span><em>video</em>, <em>accumulation_trial=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.order_by_distance_to_the_first_global_fragment_for_accumulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.order_by_distance_to_the_first_global_fragment_for_accumulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the global fragments wrt to their distance from the first
global fragment chose for accumulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote>
<div><p>instance of the class <a class="reference internal" href="video_information_manager.html#video.Video" title="video.Video"><code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code></a></p>
</div></blockquote>
<p><strong>accumulation_trial</strong> : int</p>
<blockquote class="last">
<div><p>accumulation number (protocol 2 performs a single accumulation
attempt, and if used, protocol 3 will perform 3 other attempts)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.order_by_distance_travelled">
<code class="descname">order_by_distance_travelled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.order_by_distance_travelled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.order_by_distance_travelled" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the global fragments by the minimum distance travelled of their
individual fragments</p>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments">
<code class="descname">relink_fragments_to_global_fragments</code><span class="sig-paren">(</span><em>fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.relink_fragments_to_global_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the individual fragments to their respective global fragments</p>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><em>roll_back_to=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.reset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all the global fragment by calling recursively the method
<a class="reference internal" href="#globalfragment.GlobalFragment.reset" title="globalfragment.GlobalFragment.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>global_fragments_path</em>, <em>fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves an instance of the class in the path <cite>global_fragments_path</cite>.
Before saving the individual fragments associated to every global
fragment are removes by using the method
<a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.delete_fragments_from_global_fragments" title="list_of_global_fragments.ListOfGlobalFragments.delete_fragments_from_global_fragments"><code class="xref py py-meth docutils literal notranslate"><span class="pre">delete_fragments_from_global_fragments()</span></code></a>
and resets them after saving by calling
<a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments" title="list_of_global_fragments.ListOfGlobalFragments.relink_fragments_to_global_fragments"><code class="xref py py-meth docutils literal notranslate"><span class="pre">relink_fragments_to_global_fragments()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="list_of_global_fragments.ListOfGlobalFragments.set_first_global_fragment_for_accumulation">
<code class="descname">set_first_global_fragment_for_accumulation</code><span class="sig-paren">(</span><em>video</em>, <em>accumulation_trial</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#ListOfGlobalFragments.set_first_global_fragment_for_accumulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.ListOfGlobalFragments.set_first_global_fragment_for_accumulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Selects the first global fragment to be used for accumulation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote>
<div><p>instance of the class <a class="reference internal" href="video_information_manager.html#video.Video" title="video.Video"><code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code></a></p>
</div></blockquote>
<p><strong>accumulation_trial</strong> : int</p>
<blockquote>
<div><p>accumulation number (protocol 2 performs a single accumulation
attempt, and if used, protocol 3 will perform 3 other attempts)</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">int</p>
<blockquote class="last">
<div><p>frame number corresponding to the beginning of the selected global
fragment</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="list_of_global_fragments.check_global_fragments">
<code class="descclassname">list_of_global_fragments.</code><code class="descname">check_global_fragments</code><span class="sig-paren">(</span><em>blobs_in_video</em>, <em>num_animals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#check_global_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.check_global_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array with True if:
* each blob has a unique blob intersecting in the past and future
* number of blobs equals num_animals</p>
</dd></dl>

<dl class="function">
<dt id="list_of_global_fragments.create_list_of_global_fragments">
<code class="descclassname">list_of_global_fragments.</code><code class="descname">create_list_of_global_fragments</code><span class="sig-paren">(</span><em>blobs_in_video</em>, <em>fragments</em>, <em>num_animals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#create_list_of_global_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.create_list_of_global_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of instances of the class
<a class="reference internal" href="#globalfragment.GlobalFragment" title="globalfragment.GlobalFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code></a> used to create <a class="reference internal" href="#list_of_global_fragments.ListOfGlobalFragments" title="list_of_global_fragments.ListOfGlobalFragments"><code class="xref py py-class docutils literal notranslate"><span class="pre">ListOfGlobalFragments</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blobs_in_video</strong> : list</p>
<blockquote>
<div><p>list of the blob objects (see class <a class="reference internal" href="preprocessing.html#blob.Blob" title="blob.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>) generated
from the blobs segmented in the video</p>
</div></blockquote>
<p><strong>fragments</strong> : list</p>
<blockquote>
<div><p>list of instances of the class <a class="reference internal" href="#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fragment</span></code></a></p>
</div></blockquote>
<p><strong>num_animals</strong> : int</p>
<blockquote>
<div><p>number of animals to track</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote class="last">
<div><p>list of instances of the class <a class="reference internal" href="#globalfragment.GlobalFragment" title="globalfragment.GlobalFragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalFragment</span></code></a></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="list_of_global_fragments.detect_beginnings">
<code class="descclassname">list_of_global_fragments.</code><code class="descname">detect_beginnings</code><span class="sig-paren">(</span><em>boolean_array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/list_of_global_fragments.html#detect_beginnings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#list_of_global_fragments.detect_beginnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects the frame where the core of a global fragment starts.
A core of a global fragment is the part of the global fragment where all the
individuals are visible, i.e. the number of animals in the frame equals the
number of animals in the video
:boolean_array: array with True where the number of animals in the frame equals
the number of animals in the video</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2018, Champalimaud Center for the Unknown.
      </li>
      <li>
      Last updated on Mar 03, 2018.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.7.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>