<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-114600635-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <title>Post-processing &mdash; idtrackerai v0.0 Manual</title>
    
    <link rel="stylesheet" type="text/css" href="_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="_static/css/spc-extend.css">
    <link rel="stylesheet" href="_static/scipy.css" type="text/css" >
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="top" title="idtrackerai v0.0 Manual" href="index.html" >
    <link rel="up" title="Code documentation" href="modules.html" >
    <link rel="next" title="Human validation" href="validation.html" > 
  </head>
  <body>

<div class="container">
  <div class="top-scipy-org-logo-header">
    <a href="index.html">
      <img style="border: 0;" alt="idtrackerai" src="_static/img/idtracker_logo.gif"></a>
    </div>
  </div>
</div>


    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
        <li class="active"><a href="https://gitlab.com/polavieja_lab/idtrackerai.git">GitLab repo</a></li>
	
        <li class="active"><a href="index.html">idtrackerai v0.0 Manual</a></li>
	
          <li class="active"><a href="modules.html" accesskey="U">Code documentation</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="validation.html" title="Human validation"
           accesskey="N">next</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Post-processing</a><ul>
<li><a class="reference internal" href="#module-correct_impossible_velocity_jumps">Impossible velocity jumps correction</a></li>
<li><a class="reference internal" href="#module-assign_them_all">Assign crossings</a></li>
<li><a class="reference internal" href="#get-trajectories">Get trajectories</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body">
            
  <div class="section" id="post-processing">
<h1>Post-processing<a class="headerlink" href="#post-processing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-correct_impossible_velocity_jumps">
<span id="impossible-velocity-jumps-correction"></span><h2>Impossible velocity jumps correction<a class="headerlink" href="#module-correct_impossible_velocity_jumps" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="correct_impossible_velocity_jumps.compute_neighbour_fragments_and_velocities">
<code class="descclassname">correct_impossible_velocity_jumps.</code><code class="descname">compute_neighbour_fragments_and_velocities</code><span class="sig-paren">(</span><em>video</em>, <em>list_of_fragments</em>, <em>fragment</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/correct_impossible_velocity_jumps.html#compute_neighbour_fragments_and_velocities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#correct_impossible_velocity_jumps.compute_neighbour_fragments_and_velocities" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the fragments with the same identities to the past and to the
future of a given <cite>fragment</cite> and gives the velocities at the extremes of the
current <cite>fragment</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote>
<div><p>Object collecting all the parameters of the video and paths for saving and loading</p>
</div></blockquote>
<p><strong>list_of_fragments</strong> : &lt;ListOfFragments object&gt;</p>
<blockquote>
<div><p>Object collecting the list of fragments and all the statistics and methods
related to them</p>
</div></blockquote>
<p><strong>fragment</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p>Object collecting all the information for a consecutive set of overlapping
blobs that are considered to be the same animal</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>neighbour_fragment_past</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p><cite>Fragment</cite> object with the same identity as the current fragment in the
past</p>
</div></blockquote>
<p><strong>neighbour_fragment_future</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p><cite>Fragment</cite> object with the same identity as the current fragment in the
future</p>
</div></blockquote>
<p><strong>velocities_between_fragments</strong> : nd.array</p>
<blockquote class="last">
<div><p>Velocities needed to connect the current fragment to its consecutive
fragments in the past and in the future.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#correct_impossible_velocity_jumps.get_fragment_with_same_identity" title="correct_impossible_velocity_jumps.get_fragment_with_same_identity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_fragment_with_same_identity</span></code></a>, <a class="reference internal" href="#correct_impossible_velocity_jumps.compute_velocities_consecutive_fragments" title="correct_impossible_velocity_jumps.compute_velocities_consecutive_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_velocities_consecutive_fragments</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="correct_impossible_velocity_jumps.compute_velocities_consecutive_fragments">
<code class="descclassname">correct_impossible_velocity_jumps.</code><code class="descname">compute_velocities_consecutive_fragments</code><span class="sig-paren">(</span><em>neighbour_fragment_past</em>, <em>fragment</em>, <em>neighbour_fragment_future</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/correct_impossible_velocity_jumps.html#compute_velocities_consecutive_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#correct_impossible_velocity_jumps.compute_velocities_consecutive_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute velocities in the extremes of a <cite>fragment</cite> with respecto to its
<cite>neighbour_fragment_past</cite> and <cite>neighbour_fragment_future</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>neighbour_fragment_past</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p><cite>Fragment</cite> object with the same identity as the current fragment in the
past</p>
</div></blockquote>
<p><strong>fragment</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p>Object collecting all the information for a consecutive set of overlapping
blobs that are considered to be the same animal</p>
</div></blockquote>
<p><strong>neighbour_fragment_future</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p><cite>Fragment</cite> object with the same identity as the current fragment in the
future</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>velocities</strong> : list</p>
<blockquote class="last">
<div><p>List with the velocity needed to link the fragment with its fragment in
the past and in the future</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Fragment</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="correct_impossible_velocity_jumps.correct_impossible_velocity_jumps">
<code class="descclassname">correct_impossible_velocity_jumps.</code><code class="descname">correct_impossible_velocity_jumps</code><span class="sig-paren">(</span><em>video</em>, <em>list_of_fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/correct_impossible_velocity_jumps.html#correct_impossible_velocity_jumps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#correct_impossible_velocity_jumps.correct_impossible_velocity_jumps" title="Permalink to this definition">¶</a></dt>
<dd><p>Corrects the parts of the video where the velocity of any individual is
higher than a particular velocty threshold given by <cite>video.velocity_threshold</cite>.
This check is done from the <cite>video.first_frame_first_global_fragment</cite> to the
past and to the future</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote>
<div><p>Object collecting all the parameters of the video and paths for saving and loading</p>
</div></blockquote>
<p><strong>list_of_fragments</strong> : &lt;ListOfFragments object&gt;</p>
<blockquote class="last">
<div><p>Object collecting the list of fragments and all the statistics and methods
related to them</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#correct_impossible_velocity_jumps.correct_impossible_velocity_jumps_loop" title="correct_impossible_velocity_jumps.correct_impossible_velocity_jumps_loop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">correct_impossible_velocity_jumps_loop</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="correct_impossible_velocity_jumps.correct_impossible_velocity_jumps_loop">
<code class="descclassname">correct_impossible_velocity_jumps.</code><code class="descname">correct_impossible_velocity_jumps_loop</code><span class="sig-paren">(</span><em>video</em>, <em>list_of_fragments</em>, <em>scope=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/correct_impossible_velocity_jumps.html#correct_impossible_velocity_jumps_loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#correct_impossible_velocity_jumps.correct_impossible_velocity_jumps_loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the velocity needed to join two consecutive fragments with
the same identity is consistent with the typical velocity of the animals in
the video (<cite>video.velocity_threshold</cite>). If the velocity is not consistent the
identity of one of the fragments is reassigned. The check is performed from the
<cite>video.first_frame_first_global_fragment</cite> to the past or to the future according
to the <cite>scope</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote>
<div><p>Object collecting all the parameters of the video and paths for saving and loading</p>
</div></blockquote>
<p><strong>list_of_fragments</strong> : &lt;ListOfFragments object&gt;</p>
<blockquote>
<div><p>Object collecting the list of fragments and all the statistics and methods
related to them</p>
</div></blockquote>
<p><strong>scope</strong> : string</p>
<blockquote class="last">
<div><p>If <cite>scope</cite> = <cite>to_the_past</cite> the check is performed to the past and if
<cite>scope</cite> = <cite>to_the_future</cite> the check is performed to the future.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Fragment</span></code>, <a class="reference internal" href="#correct_impossible_velocity_jumps.compute_neighbour_fragments_and_velocities" title="correct_impossible_velocity_jumps.compute_neighbour_fragments_and_velocities"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_neighbour_fragments_and_velocities</span></code></a>, <a class="reference internal" href="#correct_impossible_velocity_jumps.compute_velocities_consecutive_fragments" title="correct_impossible_velocity_jumps.compute_velocities_consecutive_fragments"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compute_velocities_consecutive_fragments</span></code></a>, <a class="reference internal" href="#correct_impossible_velocity_jumps.reassign" title="correct_impossible_velocity_jumps.reassign"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reassign</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="correct_impossible_velocity_jumps.get_fragment_with_same_identity">
<code class="descclassname">correct_impossible_velocity_jumps.</code><code class="descname">get_fragment_with_same_identity</code><span class="sig-paren">(</span><em>video</em>, <em>list_of_fragments</em>, <em>fragment</em>, <em>direction</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/correct_impossible_velocity_jumps.html#get_fragment_with_same_identity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#correct_impossible_velocity_jumps.get_fragment_with_same_identity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the <cite>neighbour_fragment</cite> with the same identity in a given <cite>direction</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote>
<div><p>Object collecting all the parameters of the video and paths for saving and loading</p>
</div></blockquote>
<p><strong>list_of_fragments</strong> : &lt;ListOfFragments object&gt;</p>
<blockquote>
<div><p>Object collecting the list of fragments and all the statistics and methods
related to them</p>
</div></blockquote>
<p><strong>fragment</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p>Object collecting all the information for a consecutive set of overlapping
blobs that are considered to be the same animal</p>
</div></blockquote>
<p><strong>direction</strong> : string</p>
<blockquote>
<div><p>If <cite>direction</cite> = <cite>to_the_past</cite> gets the <cite>neighbour_fragment</cite> in the past
<cite>direction</cite> = <cite>to_the_future</cite> gets the <cite>neighbour_fragment</cite> in the future</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>neighbour_fragment</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p><cite>Fragment</cite> object with the same identity in a given <cite>direction</cite></p>
</div></blockquote>
<p><strong>number_of_frames_in_direction</strong> : int</p>
<blockquote class="last">
<div><p>Number of frames to find the <cite>neighbour_fragment</cite> from a given extreme
of the <cite>fragment</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Fragment</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="correct_impossible_velocity_jumps.reassign">
<code class="descclassname">correct_impossible_velocity_jumps.</code><code class="descname">reassign</code><span class="sig-paren">(</span><em>fragment</em>, <em>fragments</em>, <em>impossible_velocity_threshold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/correct_impossible_velocity_jumps.html#reassign"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#correct_impossible_velocity_jumps.reassign" title="Permalink to this definition">¶</a></dt>
<dd><p>Reassigns the identity of a given <cite>fragment</cite> considering the identity of the
<cite>fragments</cite> coexisting with it and the <cite>impossible_velocity_threshold</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>fragment</strong> : &lt;Fragment object&gt;</p>
<blockquote>
<div><p>Object collecting all the information for a consecutive set of overlapping
blobs that are considered to be the same animal</p>
</div></blockquote>
<p><strong>fragments</strong> : list</p>
<blockquote>
<div><p>List with all the <cite>Fragment</cite> objects of the video</p>
</div></blockquote>
<p><strong>impossible_velocity_threshold</strong> : float</p>
<blockquote class="last">
<div><p>If the velocity needed to link two fragments is higher than this threshold
the identiy of one of the fragments is considerd to be wrong as it would be
physically impossible for an animal to move so much. See <cite>video.velocity_threshold</cite>
for each definition</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="fragmentation.html#fragment.Fragment" title="fragment.Fragment"><code class="xref py py-class docutils literal notranslate"><span class="pre">fragment.Fragment</span></code></a>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_available_and_non_available_identities()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_candidate_identities_by_minimum_speed()</span></code>, <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_candidate_identities_above_random_P2()</span></code></p>
</div>
</dd></dl>

</div>
<div class="section" id="module-assign_them_all">
<span id="assign-crossings"></span><h2>Assign crossings<a class="headerlink" href="#module-assign_them_all" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="assign_them_all.clean_individual_blob_before_saving">
<code class="descclassname">assign_them_all.</code><code class="descname">clean_individual_blob_before_saving</code><span class="sig-paren">(</span><em>blobs_in_video</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/assign_them_all.html#clean_individual_blob_before_saving"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#assign_them_all.clean_individual_blob_before_saving" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean inidividual blobs whose identity is a list (it cannot be, hence an
occluded identity has been assigned to an individual blob).</p>
</dd></dl>

<dl class="function">
<dt id="assign_them_all.close_trajectories_gaps">
<code class="descclassname">assign_them_all.</code><code class="descname">close_trajectories_gaps</code><span class="sig-paren">(</span><em>video</em>, <em>list_of_blobs</em>, <em>list_of_fragments</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/assign_them_all.html#close_trajectories_gaps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#assign_them_all.close_trajectories_gaps" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the main function to close the gaps where animals have not been
identified (labelled with identity 0), are crossing with another animals or
are occluded or not segmented.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote>
<div><p>Object containing all the parameters of the video.</p>
</div></blockquote>
<p><strong>list_of_blobs</strong> : &lt;ListOfBlobs object&gt;</p>
<blockquote>
<div><p>Object with the collection of blobs found during segmentation with associated
methods. See <a class="reference internal" href="preprocessing.html#list_of_blobs.ListOfBlobs" title="list_of_blobs.ListOfBlobs"><code class="xref py py-class docutils literal notranslate"><span class="pre">list_of_blobs.ListOfBlobs</span></code></a></p>
</div></blockquote>
<p><strong>list_of_fragments</strong> : &lt;ListOfFragments object&gt;</p>
<blockquote>
<div><p>Collection of individual and crossing fragments with associated methods.
See <a class="reference internal" href="fragmentation.html#list_of_fragments.ListOfFragments" title="list_of_fragments.ListOfFragments"><code class="xref py py-class docutils literal notranslate"><span class="pre">list_of_fragments.ListOfFragments</span></code></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>list_of_blobs</strong> : &lt;ListOfBlobs object&gt;</p>
<blockquote class="last">
<div><p>ListOfBlobs object with the updated blobs and identities that close gaps</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_individual_with_identity_0_as_crossings()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">compute_erosion_disk()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">compute_model_velocity()</span></code>, <a class="reference internal" href="#assign_them_all.reset_blobs_in_video_before_erosion_iteration" title="assign_them_all.reset_blobs_in_video_before_erosion_iteration"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset_blobs_in_video_before_erosion_iteration()</span></code></a>, <code class="xref py py-func docutils literal notranslate"><span class="pre">interpolate_trajectories_during_gaps()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">closing_gap_stopping_criteria()</span></code>, <a class="reference internal" href="#assign_them_all.clean_individual_blob_before_saving" title="assign_them_all.clean_individual_blob_before_saving"><code class="xref py py-func docutils literal notranslate"><span class="pre">clean_individual_blob_before_saving()</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="assign_them_all.get_forward_backward_list_of_frames">
<code class="descclassname">assign_them_all.</code><code class="descname">get_forward_backward_list_of_frames</code><span class="sig-paren">(</span><em>gap_interval</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/assign_them_all.html#get_forward_backward_list_of_frames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#assign_them_all.get_forward_backward_list_of_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>input:
gap_interval: array of tuple [start_frame_number, end_frame_number]
output:
[f1, fn, f2, fn-1, …] for f1 = start_frame_number and</p>
<blockquote>
<div>fn = end_frame_number</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="assign_them_all.reset_blobs_in_video_before_erosion_iteration">
<code class="descclassname">assign_them_all.</code><code class="descname">reset_blobs_in_video_before_erosion_iteration</code><span class="sig-paren">(</span><em>blobs_in_video</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/assign_them_all.html#reset_blobs_in_video_before_erosion_iteration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#assign_them_all.reset_blobs_in_video_before_erosion_iteration" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the identity of crossings and individual with multiple identities
before starting a loop of <code class="xref py py-func docutils literal notranslate"><span class="pre">intepro()</span></code></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blobs_in_video</strong> : type</p>
<blockquote>
<div><p>Description of parameter <cite>blobs_in_video</cite>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">type</p>
<blockquote class="last">
<div><p>Description of returned object.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="get-trajectories">
<h2>Get trajectories<a class="headerlink" href="#get-trajectories" title="Permalink to this headline">¶</a></h2>
<p>Produces the dictionary of outputs containing the individual trajectories (centroids),
the git output, the path to the video whose tracking poroduced the individual trajectories and
frames_per_second.</p>
<span class="target" id="module-get_trajectories"></span><dl class="function">
<dt id="get_trajectories.assign_point_to_identity">
<code class="descclassname">get_trajectories.</code><code class="descname">assign_point_to_identity</code><span class="sig-paren">(</span><em>centroid</em>, <em>identity</em>, <em>frame_number</em>, <em>centroid_trajectories</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_trajectories.html#assign_point_to_identity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#get_trajectories.assign_point_to_identity" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate the matrix of individual trajectories with the centroid of a
selected Blob object (see <a class="reference internal" href="preprocessing.html#blob.Blob" title="blob.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>centroid</strong> : tuple</p>
<blockquote>
<div><p>(x, y)</p>
</div></blockquote>
<p><strong>identity</strong> : int</p>
<blockquote>
<div><p>Identity to be associated with the centroid</p>
</div></blockquote>
<p><strong>frame_number</strong> : int</p>
<blockquote>
<div><p>Frame number in the tracked video</p>
</div></blockquote>
<p><strong>centroid_trajectories</strong> : ndarray</p>
<blockquote>
<div><p>array of shape [number of frame in video x number of animals  x  2]</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">ndarray</p>
<blockquote class="last">
<div><p>centroid_trajectories</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="get_trajectories.produce_output_dict">
<code class="descclassname">get_trajectories.</code><code class="descname">produce_output_dict</code><span class="sig-paren">(</span><em>blobs_in_video</em>, <em>video</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_trajectories.html#produce_output_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#get_trajectories.produce_output_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs the dictionary with keys: trajectories, git_commit, video_path,
frames_per_second</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blobs_in_video</strong> : list</p>
<blockquote>
<div><p>List of all blob objects (see <code class="xref py py-class docutils literal notranslate"><span class="pre">Blobs</span></code>) generated by
considering all the blobs segmented from the video</p>
</div></blockquote>
<p><strong>video</strong> : &lt;Video object&gt;</p>
<blockquote>
<div><p>See <a class="reference internal" href="video_information_manager.html#video.Video" title="video.Video"><code class="xref py py-class docutils literal notranslate"><span class="pre">Video</span></code></a></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict</p>
<blockquote class="last">
<div><p>Output dictionary containing trajectories as values</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="get_trajectories.produce_trajectories">
<code class="descclassname">get_trajectories.</code><code class="descname">produce_trajectories</code><span class="sig-paren">(</span><em>blobs_in_video</em>, <em>number_of_frames</em>, <em>number_of_animals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/get_trajectories.html#produce_trajectories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#get_trajectories.produce_trajectories" title="Permalink to this definition">¶</a></dt>
<dd><p>Produce trajectories array from ListOfBlobs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>blobs_in_video</strong> : &lt;ListOfBlobs object&gt;</p>
<blockquote>
<div><p>See <a class="reference internal" href="preprocessing.html#list_of_blobs.ListOfBlobs" title="list_of_blobs.ListOfBlobs"><code class="xref py py-class docutils literal notranslate"><span class="pre">list_of_blobs.ListOfBlobs</span></code></a></p>
</div></blockquote>
<p><strong>number_of_frames</strong> : int</p>
<blockquote>
<div><p>Total number of frames in video</p>
</div></blockquote>
<p><strong>number_of_animals</strong> : int</p>
<blockquote>
<div><p>Number of animals to be tracked</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dict</p>
<blockquote class="last">
<div><p>Dictionary with np.array as values (trajectories organised by identity)</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2018, Champalimaud Center for the Unknown.
      </li>
      <li>
      Last updated on May 02, 2018.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.7.0.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>